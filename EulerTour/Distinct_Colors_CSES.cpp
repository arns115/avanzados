// Solucion con Euler Tour O(n)
/*
                                                                   -----@                          
  @-@                                                            @----#-@                          
  :-#@                                                         @::---- --                          
  :-----@                                                    %::-:---  --:                         
 @:----:---@@                                             @:::::---@   --@                         
 @:- ---:::::::::*@@@                                 @@:---------     --                          
  ::@ =--::#::::::-------@@         @=::::@@        @----@------@    ::--                          
  @:-    @::::::@:::---------@ @@::::-----------@@:------@----- : ::::@-@                          
  @:-          @::::----:----:::-------  -------------%-------: ::::::--                           
   @:@           ::=---:-@@-----@@-*+-    --@ @------*-------::::::::@-@                           
    :-@     :: : :::::-------------@-      -*+@------***@---:::::::::-@                            
     :-@:::.:::::::::@-#----------          .************%%@:::.::::-@                             
     @:--::::::::::::-@---------      ++++#  ..#**********%%: :::::-=                              
       :---:::::::::-@---------@             ..@**********%%%::::%-@@                              
        @---=::::::@---------***.        ......*+@%%%%%%%%%%%@. :==@                               
          @---@:::@--------**=  :*@....@=*#**::               ::=@          @*@                    
            @---@@-@-----**@       %:-***%:::              .:=:%@        @--                       
             +----@----*@ :        @   :::::            ::-@%%%%%@     ----                        
               @-@:---@  : .  :   @@                                    @                          
                @::-*.       ::  @@@@        :  :                    :@       @                    
               @::-*@   .   :: :=@@@@@        :*:::#:::::::::-:::::-    =     @                    
              @:--**:  :    :::@@@@@@@@ :      ::***#::*******#::     =++                          
             @:--***::@:    **@@@@@@@@@@@::@:::::::@@@@@@@@#**@    .++++@                          
            @:--***%:**:    #@@@@@@@@@@@@@@@+::+@@@@@@@@@@@@*     ++++++.  :                       
            ::--****@*::    :@@@-------@@@@@@@@@@@@@@@---@@@    =++++ @+::::::                     
             @---****::-:   ::-----#@@----@@@@@@@@@@-------            @::::@  ..#   @@@@          
              @---** :+##::  ::@@@@@@@@@@@@@@@@@@@@@@@@@@@              :::@    ..:....:.....:@    
               @--*@:**####%:: ::@@@@@@@@@@@@@@@@@@@@@@@@@    @        =:::@ @      ..@.......@...@
                @-- :*##:::#:::@:::@@@@@@@@@@@@@@@@@@@@@@    =+        ::::@        :  ..... ......
                +@-  **::   :::@@@@@@@@@@@@@@@@@@@@@@@@@   @       :::::::@             .@.........
                 @@  #+::     :..@@@@...@@@@@@@@@@@@ .@@-  --@    #:::::::      @      @ ..........
               @ ..@  @::   *  ....  ...@@@@@@@@ . ....-----+@     @    :::           @   .........
               @  ....::::    :@  .  ... .. ....@:::@ @-----@             ::::::@         .........
               *   .....:::    @. .   ..@@@@....@:    @-@                     ::::@   .   ....... .
         @@:    *        .@ :.  :.      . :    @@                             ::        @@@@@@@@%@.
         @                 ..@   :.       @@:              @@       @         :      -=--+++++++++@
          @   .       ..@@@%.%:  :@ .. @  @@:::        @         @  :             ------------+++++
           @   .+   .@::---*** : :: ..      @:::     @       @@    . :                 ---------+++
            **     .::::---=** : ::..@@..@ :::::    @    @@@####@@@   ::::          -- :---------++
          @   -    :::::----** : ::..@::            @   @@%%####%@@@   :::       ---------@@------+
         @.    *.  ::-:----**@::::*..#:.            @   --@@@@@@@@@@@  :.       -------         @-+
         . ....... :::-----**:::*@**@  :                %%%@@@@@*%%@@          ------++      *+----
        @@@@@@@    +:-----**#:#:@**+-@.@              @ %%#+%@***++@@         ------+++++----------
                   @:---**%#@::@%*-----@   @             @@##+#+@@            -----+------++++++---
             @   .  :-***%@::.@%%-------                                     ------------------++++
       %       @....:*#%@:  ::**%*-------@                            @**@    ------        @----++
       +       @....@*%-   ::@@:*%*-------@                            %%@%%    -+ @@###@@@    ----
      @       @@   @.*     :=    :*=--------                  @         @%@@@  --@@*@###@@@@@   @--
      : @                 :*      @*--------=                     @             --%*@@#@@%@@@@   @-
     @:   @         @    :**        @--------*@                   +++@@         --@@@@@@@%@@@@    -
     @:      @@@@@@      :**          %-------**                ++++*+++        --**#@*++*@@@@    -
     @:           @   :  :**         :@--@------**            :::++++++@  @     - -@++++++@@@    @-
      ::      @   :::    :**@      @:: +**-------**          :::::+++++            -@%#%%%@     @--
      @:::               :***     : ::  **--------***       :::::-++++@              --@      @----
       @:::          ::   :***  :   :   @:*--------*--*     ::::::-+++                ---  --------
          @      @ :: :    :@:     :@    =**---*-------- ..@ :::::::+                            +-
       @           :@ :          .::     @***-**------*....+@  @::@                            ++--
    @            @ :- ::  %     :::       @:****---------.==%#                            @: +++-++
                     :::@     :::@         .:**@-..:*@---**.---@                    @ =:::   +++++#
 @                      ::::::::             :*--..+* ...=@+---@%@       @      ::::::::    ++++@  
@ @                       @@@                 :*-....--.+*==.-@%****@  %      =@@@@@       #:@=    
                                              @:***%%..-*=%%%****%  .@@  @@............@  %:     @ 
                                               @:****..===%***@+***                ......*         
                                                @:****@-#***       @                 .....      @  
                                                 @:********+                          ....    @   @
:::::                                             @=********                          :@@         :
::                                                .:**:   **@                            ..:  ::::@
    :                                              @@@..     *                            ..%::::@ 
Nitter -.-                                          @@....                      @@@       ..:      
*/
#include <bits/stdc++.h>
#ifndef ONLINE_JUDGE
#include "/home/nitter/Desktop/CPCFI/Debug/cpp-dump/cpp-dump.hpp"
namespace cp = cpp_dump;
#define dump(...) cpp_dump(__VA_ARGS__)
#endif
using namespace std;
#define all(v) v.begin(),v.end()
#define rall(v) v.rbegin(),v.rend()
#define pb push_back
#define sz(a) int(a.size())
#define F first
#define S second
typedef long long ll;
typedef vector<int> vi;
typedef vector<ll> vll;
typedef pair<int,int> pii;
typedef pair<ll,ll> pll;
const int MOD = 1e9+7;
const int INF = INT_MAX;
const ll INF64 = LLONG_MAX;
const long double EPS = 1e-9;
const long double PI = acosl(-1.0L);
void setIO(string p){
	freopen((p + ".in").c_str(), "r", stdin);
	freopen((p + ".out").c_str(), "w", stdout);
}

struct Node{
	ll n = 0;
	Node operator+(Node b){return {n+b.n};}
};

class Fenwick_Tree{
public:
	vector<Node> tree;
	int n;
	Fenwick_Tree(int x){
		n = x+1;tree.resize(n);
	}

	ll sum(int r){
		r++;
		Node ans = {0};
		while(r){
			ans = ans + tree[r];
			r -= r&-r;
		}
		return ans.n;
	}

	void update(int id, Node val){
		id++;
		while(id < n){
			tree[id]  = tree[id]+val;
			id += id&-id;
		}
	}
};

vector<vi> adj;
vi start;
vi final;
int timer = 0;
void dfs(int u = 0, int prev = -1){
	final[u] = timer;
	for(auto v:adj[u])
		if(v != prev)dfs(v,u);
	start[timer++] = u;
}


void solve(){
	int n;cin >> n;
	vi a(n);
	for(int &i:a)cin >> i;
	adj.resize(n);
	start.resize(n);
	final.resize(n);
	for(int i=1;i<n;i++){
		int x,y;cin >> x >> y;
		adj[--x].pb(--y);
		adj[y].pb(x);
	}

	dfs();

	Fenwick_Tree fw(n);
	vi ans(n);
	map<int,int> last;
	
	for(int i=0;i<n;i++){
		if(last.count(a[start[i]])){
			fw.update(last[a[start[i]]], {-1});
		}

		last[a[start[i]]] = i;
		fw.update(i,{1});
		ans[start[i]] = fw.sum(i) - fw.sum(final[start[i]]-1);
	}

	for(int i=0;i<n;i++)cout << ans[i] << " \n"[(i+1) == n];
}


int main(){
	ios_base::sync_with_stdio(0);
	cin.tie(0);
	cout.tie(0);
	int tc = 1;
	//cin >> tc;
	for (int t = 1; t <= tc; t++)solve();
}
